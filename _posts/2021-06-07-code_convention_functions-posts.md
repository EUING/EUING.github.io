---
layout: post
title: Google C++ Style Guide 4
subtitle: Functions 부분 정리.
tags: [C++, guide]
---

-------------

# Functions
## Inputs and Outputs
- 매개 변수를 통한 output보다는 return을 선호.
- 값으로 반환하거나 그게 안되면 참조로 반환하는 것을 선호하고 null이 될 수 없으면 포인터를 반환 하지 말 것.
- 매개 변수로 입력을 받을 경우 값 혹은 const 참조로 선언할 것.
- 매개 변수로 출력을 내보낼 경우 null이 되지 않을 경우 참조로 선언할 것.
- 선택적 입력을 받을 경우 std::optional을 사용하고 매개변수가 null이 될 경우 const pointer를 사용할 것.
- 함수를 선언할 때 입력 매개 변수를 출력 매개 변수 앞에 둘 것.

## Write Short Functions
- 함수 길이에 대한 제한은 없으나 40 line이 넘어가면 함수를 분리할 수 있는 지 고려할 것.
- 함수를 짧고 간단하게 유지하면 유지보수 및 테스트가 쉬워짐.

## Function Overloading
- 사용자가 함수 선언을 보고 내부 동작을 예측할 수 있는 경우에만 오버로딩을 사용할 것.
- const std::string&와 const char\*로 오버로딩 할 경우 std::string_view를 고려할 것.
- 제대로 된 오버로딩은 헤더의 단일 주석으로도 오버로딩된 함수를 문서화 할 수 있음.

## Default Arguments
- 기본 인자가 항상 같다고 보장되는 비 가상함수에서 허용 함.
- 장점
    - 오버로딩과 비교했을 때 더 깔끔한 구문을 가지고, 필수 인자와 선택 인자의 구분이 명확해짐.
- 단점
    - 가상함수의 경우 오버라이딩 함수에서 같은 기본 값을 선언한다는 보장이 없음.
    - 함수를 호출하는 부분에서 기본 인자로 인해 목적 코드가 커질 수 있음.
    - 함수 시그니처와 호출 시그니처가 일치하지 않기 때문에 함수 포인터가 헷갈림.
- 결론
    - 가상 함수에서 기본 인자를 재정의 하더라도 오동작 하므로 기본 인자를 사용하지 말 것.
    - 위의 단점을 커버할 정도로 가독성이 향상되면 기본 인자를 허용 함.
	
## Trailing Return Type Syntax
- 후행 반환 타입은 일반 구문을 사용하는 것보다 가독성이 좋을 경우에만 사용할 것.
- 일반 구문만 사용하거나 둘을 혼합해서 사용하는 것이 현실적임.